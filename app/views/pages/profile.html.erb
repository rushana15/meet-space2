<div class="container">
  <div class="d-flex justify-content-center mt-5">
    <h1><%= @current_user.username %> Profile Page-  </h1>
    <% if @current_user.photo.present? %>
      <%= cl_image_tag @current_user.photo.key, class: "avatar-large", alt: "" %>
    <% end %>
  </div>

  <h2 class="card-title text-center">My venues</h2>
  <% @venues.each do |venue| %>
    <div class="col-md-4 mb-4">
      <div class="venue-card">
        <% if venue.photos.attached? && venue.photos[0].present? %>
          <%= cl_image_tag venue.photos[0].key, alt: venue.name, class: "venue-img" %>
        <% end %>
        <h5 class="card-title text-center"><%= venue.name %></h5>
        <p><strong>Address:</strong> <%= venue.address %></p>
        <%= link_to "View Details", venue_path(venue), class: "btn btn-profile btn-block" %>
        <%= link_to "Edit", edit_venue_path(venue), class: "btn btn-profile-edit btn-block mt-2" %>
        <%= link_to "Delete", venue_path(venue), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-block mt-2" %>
      </div>
    </div>
  <% end %>

  <h2 class="card-title text-center">My Bookings</h2>
  <% @bookings.each do |booking| %>
    <div class="col-md-4 mb-4">
      <div class="venue-card">
        <% venue = booking.venue %>
        <% if venue.photos.attached? && venue.photos[0].present? %>
          <%= cl_image_tag venue.photos[0].key, alt: venue.name, class: "venue-img" %>
        <% end %>
        <h5 class="card-title text-center"><%= venue.name %></h5>
        <p><strong>Address:</strong> <%= venue.address %></p>
        <p><strong>Booking From:</strong> <%= booking.start_date %></p>
        <p><strong>Booking Till:</strong> <%= booking.end_date %></p>
        <p><strong>Booking Status:</strong> <%= booking.confirmed ? 'Confirmed' : 'Pending' %></p>
        <%= button_to "Delete Booking", booking_path(booking), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-block mt-2" %>
      </div>
    </div>
  <% end %>
</div>
